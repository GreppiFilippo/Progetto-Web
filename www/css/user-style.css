/* Links */
main a {
    color: #2C5F34;
}

main a:hover {
    color: #24492B;
    border-bottom: solid #24492B 1.5px;
    transition: all 0.1s ease-in-out;
}

/* Navbar */
nav.navbar, main > header.welcome {
    background-color: #2C5F34;
}

nav.navbar ul li:hover {
    transition: all 0.3s ease;
    transform: translateY(-2px);
    border-bottom: 2px solid #F0F6F1;
    font-weight: bold;
}

/* Buttons */
form input[type="submit"],
form button[type="submit"],
a.btn:first-child,
aside a.btn:first-child,
aside section a.btn:first-of-type,
main .col-md-8 ul li .d-flex a.btn-outline-primary {
    background-color: #2C5F4E !important;
    border-color: #2C5F4E !important;
}

form button[type="submit"] i,
a.btn:first-child i,
aside section a.btn:first-of-type i {
    color: white;
}
form input[type="submit"]:hover,
form button[type="submit"]:hover,
a.btn:first-child:hover,
aside section a.btn:first-of-type:hover,
main .col-md-8 ul li .d-flex a.btn-outline-primary:hover {
    background-color: #24492B;
    border-color: #24492B;
}

a.btn {
    color: #2C5F4E;
    border-color: #2C5F4E;
}

a.btn:hover {
    color: white;
    background-color: #2C5F4E;
    border-color: #2C5F4E;
}

a.btn:hover i {
    color: white;
}

/* Icons */
main i.bi {
    color: #2C5F4E;
}

/* Feature icons */
.col:has(.bi-clock-history) .rounded-circle {
    background-color: #2C5F4E;
    width: 80px;
    height: 80px;
}

.col:has(.bi-calendar-check) .rounded-circle {
    background-color: #4D2C5F;
    width: 80px;
    height: 80px;
}

.col:has(.bi-star-fill) .rounded-circle {
    background-color: #5F2C3E;
    width: 80px;
    height: 80px;
}

.col:has(.bi-calendar-check) .rounded-circle i,
.col:has(.bi-star-fill) .rounded-circle i,
.col:has(.bi-clock-history) .rounded-circle i {
    color: white;
}

main > div.alert,
main .col-md-8 ul li .d-flex a.btn-outline-danger {
    background-color: #F0F6F1 !important;
    color: #1B3B20 !important;
}

/* Menu Filter */
main form select, 
main form input[type="date"] {
    cursor: pointer;
}

/* Card Header */
main form .card-header {
    background-color: #2C5F34;
    color: white;
}

/* Step badges inside legends: keep text visible on green header */
main form .card-header .badge {
    color: #2C5F34;
    border: 1px solid #2C5F34;
    background-color: white;
}

main form .card-header > h2 > span {
    color: #2C5F4E;
}

ul li div.card > div.card-body span.badge i.bi {
    color: white;
}

/* Aside Submit Button */
main form aside input[type="submit"],
main form aside input[type="submit"] i {
    background-color: #2C5F4E;
    border-color: #2C5F4E;
}

main form aside input[type="submit"]:hover {
    background-color: #24492B;
    border-color: #24492B;
}

/* Page Footer */
body > footer a {
    color: #FFFFFFB3;
}

body > footer a:hover {
    border-bottom: solid #FFFFFFB3 1.5px;
    transition: all 0.1s ease-in-out;
}

body > header > nav {
    background-color: #2C5F34;
}

body > main > form > fieldset > div > i, body > main > h1 > i, body > main > div > aside > div > i  {
    color: #2C5F34;
}


div.card > div.ratio,
.card-img-top {
    overflow: hidden;
}

div.card > div.ratio img,
.card-img-top {
    display: block;
    width: 100%;
    height: 220px;
    object-fit: cover;
    object-position: center;
}

/* adattamento per schermi piccoli */
@media (max-width: 576px) {
    div.card > div.ratio img,
    .card-img-top {
        height: 160px;
    }
}

/* Accessibility fixes: improve color contrast to meet WCAG AAA (enhanced) */
.lead.text-muted,
.text-muted,
.card-text.text-muted,
small.text-muted,
.card .small,
.card small {
    color: #222222 !important;
}

/* Darker badge backgrounds so white text meets enhanced contrast */
.badge.bg-primary {
    background-color: #084298 !important;
}

.badge.bg-success {
    background-color: #0b5d38 !important;
}

/* Ensure badges with white text keep full contrast */
.badge.bg-primary.text-white,
.badge.bg-success.text-white {
    color: #ffffff !important;
}

/* Disable red flash on outline-danger buttons */
a.btn-outline-danger:active,
a.btn-outline-danger:focus {
    background-color: #2C5F4E !important;
    border-color: #2C5F4E !important;
    color: white !important;
    box-shadow: none !important;
}

/* ===== WCAG AAA Focus Styles ===== */

/* Links focus */
a:focus,
a:focus-visible {
    outline: 3px solid #2C5F34;
    outline-offset: 3px;
    border-radius: 2px;
}

/* Navigation links focus */
nav.navbar a.nav-link:focus,
nav.navbar a.nav-link:focus-visible,
nav.navbar a.navbar-brand:focus,
nav.navbar a.navbar-brand:focus-visible {
    outline: 3px solid #F0F6F1;
    outline-offset: 3px;
    border-radius: 4px;
}

/* Buttons focus */
button:focus,
button:focus-visible,
.btn:focus,
.btn:focus-visible,
input[type="submit"]:focus,
input[type="submit"]:focus-visible,
input[type="reset"]:focus,
input[type="reset"]:focus-visible,
input[type="button"]:focus,
input[type="button"]:focus-visible {
    outline: 3px solid #1B3B20;
    outline-offset: 3px;
    box-shadow: 0 0 0 4px rgba(44, 95, 52, 0.25);
}

/* Form controls focus */
input:focus,
input:focus-visible,
textarea:focus,
textarea:focus-visible,
select:focus,
select:focus-visible,
.form-control:focus,
.form-control:focus-visible,
.form-select:focus,
.form-select:focus-visible {
    border-color: #2C5F34;
    outline: 3px solid #2C5F34;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(44, 95, 52, 0.15);
}

/* Checkboxes and radio buttons focus */
input[type="checkbox"]:focus,
input[type="checkbox"]:focus-visible,
input[type="radio"]:focus,
input[type="radio"]:focus-visible,
.form-check-input:focus,
.form-check-input:focus-visible {
    border-color: #2C5F34;
    outline: 3px solid #2C5F34;
    outline-offset: 3px;
    box-shadow: 0 0 0 4px rgba(44, 95, 52, 0.2);
}

/* Navbar toggler focus */
.navbar-toggler:focus,
.navbar-toggler:focus-visible {
    outline: 3px solid #F0F6F1;
    outline-offset: 3px;
    box-shadow: 0 0 0 4px rgba(240, 246, 241, 0.3);
}

/* Card links focus (menu items) */
.card a:focus,
.card a:focus-visible {
    outline: 3px solid #2C5F34;
    outline-offset: 2px;
    border-radius: 4px;
}

/* Remove default focus for non-keyboard users */
*:focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
}